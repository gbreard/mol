{
  "fecha_analisis": "2025-12-09",
  "proyecto": "MOL - Monitor de Ofertas Laborales",
  "directorio": "D:\\OEDE\\Webscrapping",
  "resumen": {
    "total_hallazgos": 7,
    "impacto_alto": 1,
    "impacto_medio": 4,
    "impacto_bajo": 2
  },
  "hallazgos": [
    {
      "id": "ZOMBI-001",
      "categoria": "ESCO-XLM Reranker",
      "impacto": "ALTO",
      "descripcion": "Codigo del reranker ESCO-XLM permanece pero esta deshabilitado (USE_RERANKER=False)",
      "archivos_afectados": [
        {
          "archivo": "database/match_ofertas_multicriteria.py",
          "lineas": "72-75, 96-99, 164-227, 813-821",
          "estado": "ACTIVO_DESHABILITADO"
        },
        {
          "archivo": "database/match_ofertas_to_esco.py",
          "lineas": "49-52, 63-227",
          "estado": "LEGACY"
        },
        {
          "archivo": "database/spike_reranker_eval.py",
          "lineas": "43-452",
          "estado": "EXPERIMENTAL"
        },
        {
          "archivo": "database/evaluar_matching_esco.py",
          "lineas": "6, 83, 235, 287",
          "estado": "LEGACY"
        },
        {
          "archivo": "database/evaluar_matching_esco_v2.py",
          "lineas": "170, 251-318",
          "estado": "LEGACY"
        },
        {
          "archivo": "database/experiment_logger.py",
          "lineas": "23-32, 112, 209, 237",
          "estado": "UTIL_EJEMPLO"
        }
      ],
      "accion_recomendada": "Extraer ESCOReranker a archivo separado, archivar archivos LEGACY"
    },
    {
      "id": "ZOMBI-002",
      "categoria": "Versiones multiples matching_rules",
      "impacto": "MEDIO",
      "descripcion": "Existen 4 versiones de matching_rules (v81, v82, v83, v84), solo v83 y v84 son necesarias",
      "archivos_afectados": [
        {
          "archivo": "database/matching_rules_v81.py",
          "estado": "LEGACY",
          "usado_por": ["apply_v81_rules_gold19.py", "simulate_v81_gold19.py"]
        },
        {
          "archivo": "database/matching_rules_v82.py",
          "estado": "LEGACY",
          "usado_por": ["verify_v82_confirmados.py"]
        },
        {
          "archivo": "database/matching_rules_v83.py",
          "estado": "ACTIVO",
          "usado_por": ["match_ofertas_multicriteria.py (fallback)", "matching_rules_v84.py (import)"]
        },
        {
          "archivo": "database/matching_rules_v84.py",
          "estado": "ACTIVO",
          "usado_por": ["match_ofertas_multicriteria.py (primary)"]
        }
      ],
      "accion_recomendada": "Archivar v81 y v82"
    },
    {
      "id": "ZOMBI-003",
      "categoria": "Versiones multiples prompts NLP",
      "impacto": "MEDIO",
      "descripcion": "Existen 4 versiones de extraction_prompt (v5, v6, v7, v8), solo v8 esta activo",
      "archivos_afectados": [
        {
          "archivo": "02.5_nlp_extraction/prompts/extraction_prompt_v5.py",
          "estado": "LEGACY"
        },
        {
          "archivo": "02.5_nlp_extraction/prompts/extraction_prompt_v6.py",
          "estado": "LEGACY"
        },
        {
          "archivo": "02.5_nlp_extraction/prompts/extraction_prompt_v7.py",
          "estado": "LEGACY"
        },
        {
          "archivo": "02.5_nlp_extraction/prompts/extraction_prompt_v8.py",
          "estado": "ACTIVO"
        }
      ],
      "accion_recomendada": "Archivar v5, v6, v7"
    },
    {
      "id": "ZOMBI-004",
      "categoria": "Versiones multiples process_nlp",
      "impacto": "MEDIO",
      "descripcion": "process_nlp_from_db_v6.py aun esta en database/ en lugar de archive",
      "archivos_afectados": [
        {
          "archivo": "database/archive_old_versions/process_nlp_from_db_v5.py",
          "estado": "ARCHIVADO"
        },
        {
          "archivo": "database/process_nlp_from_db_v6.py",
          "estado": "PENDIENTE_ARCHIVAR"
        },
        {
          "archivo": "database/process_nlp_from_db_v7.py",
          "estado": "ACTIVO"
        }
      ],
      "accion_recomendada": "Mover v6 a archive_old_versions/"
    },
    {
      "id": "ZOMBI-005",
      "categoria": "Dashboards duplicados",
      "impacto": "BAJO",
      "descripcion": "5 versiones de dashboard_scraping en raiz del proyecto",
      "archivos_afectados": [
        {
          "archivo": "dashboard_scraping.py",
          "estado": "ORIGINAL"
        },
        {
          "archivo": "dashboard_scraping_v2.py",
          "estado": "LEGACY"
        },
        {
          "archivo": "dashboard_scraping_v3.py",
          "estado": "LEGACY"
        },
        {
          "archivo": "dashboard_scraping_v4.py",
          "estado": "POSIBLE_ACTIVO"
        },
        {
          "archivo": "01_sources/bumeran/scrapers/dashboard_keywords.py",
          "estado": "ESPECIALIZADO"
        }
      ],
      "accion_recomendada": "Determinar dashboard activo y archivar anteriores"
    },
    {
      "id": "ZOMBI-006",
      "categoria": "Scrapers duplicados",
      "impacto": "MEDIO",
      "descripcion": "scrapear_con_diccionario.py copiado en 3 portales diferentes",
      "archivos_afectados": [
        {
          "archivo": "01_sources/bumeran/scrapers/scrapear_con_diccionario.py",
          "portal": "bumeran"
        },
        {
          "archivo": "01_sources/computrabajo/scrapers/scrapear_con_diccionario.py",
          "portal": "computrabajo"
        },
        {
          "archivo": "01_sources/linkedin/scrapers/scrapear_con_diccionario.py",
          "portal": "linkedin"
        }
      ],
      "accion_recomendada": "Crear modulo comun en common/scraper_base.py"
    },
    {
      "id": "ZOMBI-007",
      "categoria": "Scripts test huerfanos",
      "impacto": "BAJO",
      "descripcion": "35+ archivos test_*.py dispersos sin organizacion",
      "archivos_afectados": [
        {"archivo": "test_sqlite_integration.py", "ubicacion": "raiz"},
        {"archivo": "test_insert_offers.py", "ubicacion": "raiz"},
        {"archivo": "test_fresh_insert.py", "ubicacion": "raiz"},
        {"archivo": "test_pagination_api.py", "ubicacion": "raiz"},
        {"archivo": "test_duplicate_detection.py", "ubicacion": "raiz"},
        {"archivo": "test_api_parametros.py", "ubicacion": "raiz"},
        {"archivo": "test_session_jwt.py", "ubicacion": "raiz"},
        {"archivo": "test_cobertura_evolutiva.py", "ubicacion": "raiz"},
        {"archivo": "database/test_patterns_v2.py", "ubicacion": "database"},
        {"archivo": "database/test_session_fix.py", "ubicacion": "database"},
        {"archivo": "database/test_dual_write.py", "ubicacion": "database"},
        {"archivo": "database/test_nlp_v6.py", "ubicacion": "database"},
        {"archivo": "database/test_validacion_incremental.py", "ubicacion": "database"},
        {"archivo": "database/test_nlp_v8_regression.py", "ubicacion": "database"},
        {"archivo": "database/test_esco_matching_regression.py", "ubicacion": "database"},
        {"archivo": "database/test_gold_set_manual.py", "ubicacion": "database", "estado": "ACTIVO"}
      ],
      "accion_recomendada": "Consolidar tests utiles en tests/, eliminar obsoletos"
    }
  ],
  "scripts_version_especifica_candidatos_archivar": {
    "v81": [
      "apply_v81_rules_gold19.py",
      "simulate_v81_gold19.py",
      "check_v81_skills.py",
      "compare_v80_v81.py",
      "rerun_matching_v81.py",
      "debug_v81_join.py",
      "check_v81_ofertas.py",
      "match_v81_ofertas.py",
      "match_v81_specific.py",
      "match_v81_complete.py",
      "insert_v81_records.py",
      "check_v81_progress.py",
      "experiment_nlp_v81.py"
    ],
    "v82": [
      "verify_v82_confirmados.py",
      "export_batch_v82_csv.py",
      "apply_v82_rules_gold19.py",
      "apply_v82_rules_batch.py"
    ],
    "v83": [
      "populate_skills_detalle_v83.py"
    ],
    "v84": [
      "check_v84_improvements.py"
    ]
  },
  "acciones_priorizadas": {
    "alta_prioridad": [
      "Extraer clase ESCOReranker de match_ofertas_multicriteria.py",
      "Archivar match_ofertas_to_esco.py",
      "Mover process_nlp_from_db_v6.py a archive"
    ],
    "media_prioridad": [
      "Archivar matching_rules v81 y v82",
      "Archivar prompts v5, v6, v7",
      "Consolidar dashboards",
      "Refactorizar scrapers con clase base comun"
    ],
    "baja_prioridad": [
      "Consolidar tests en tests/",
      "Eliminar scripts de versiones especificas",
      "Documentar tests necesarios"
    ]
  }
}
