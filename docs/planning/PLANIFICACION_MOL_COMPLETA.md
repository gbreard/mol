# MOL - Planificaci√≥n Completa del Proyecto

> **Fecha:** 2025-12-02  
> **Proyecto Linear:** https://linear.app/molar/project/mol-monitor-ofertas-laborales-2a9662bfa15f

---

## üìä Resumen Ejecutivo

| M√©trica | Valor |
|---------|-------|
| **Total Issues** | 18 |
| **Carril A (Construcci√≥n)** | 10 issues |
| **Carril B (Optimizaci√≥n)** | 8 issues |
| **Prioridad Alta** | 3 issues |
| **Prioridad Media** | 7 issues |
| **Prioridad Baja** | 8 issues |

---

## üèóÔ∏è Estructura de Dos Carriles

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                           PROYECTO MOL                                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  CARRIL A: CONSTRUCCI√ìN         ‚îÇ  CARRIL B: OPTIMIZACI√ìN                   ‚îÇ
‚îÇ  (Tiene principio y fin)        ‚îÇ  (Mejora continua, iterativo)             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                 ‚îÇ                                           ‚îÇ
‚îÇ  üì¶ Infraestructura Base        ‚îÇ  üîÑ Optimizaci√≥n Matching ESCO            ‚îÇ
‚îÇ     7 issues                    ‚îÇ     5 issues                              ‚îÇ
‚îÇ                                 ‚îÇ     Meta: Precisi√≥n >85%                  ‚îÇ
‚îÇ  üì¶ Dashboard Usuario v3        ‚îÇ     Actual: ~80% (v8.3)                   ‚îÇ
‚îÇ     2 issues                    ‚îÇ                                           ‚îÇ
‚îÇ                                 ‚îÇ  üîÑ Optimizaci√≥n NLP                      ‚îÇ
‚îÇ  üìã General                     ‚îÇ     3 issues                              ‚îÇ
‚îÇ     1 issue                     ‚îÇ     Meta: Cobertura >75%                  ‚îÇ
‚îÇ                                 ‚îÇ     Actual: 60-70% (v4.0)                 ‚îÇ
‚îÇ                                 ‚îÇ                                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üî¥ CARRIL B: OPTIMIZACI√ìN (8 Issues)

### Milestone: Optimizaci√≥n Matching ESCO
**Meta:** Precisi√≥n >85% | **Actual:** ~80% (v8.3) | **Medici√≥n:** test_gold_set_manual.py

| ID | T√≠tulo | Prioridad | Descripci√≥n |
|----|--------|-----------|-------------|
| MOL-5 | [v8.4] Resolver errores sector_funcion (4 casos) | üî¥ Alta | 50% de errores del gold set. Casos: Account Executive, Analista admin, Asesor comercial |
| MOL-6 | Expandir Gold Set de 19 a 50+ casos | üî¥ Alta | Estratificar por sector, nivel y tipo de contrato |
| MOL-7 | Agregar m√©tricas de Recall al benchmark | üü° Media | Solo medimos precisi√≥n, falta recall y F1 |
| MOL-8 | Resolver casos biling√ºes | üü° Media | "Account Executive" ‚â† "Ejecutivo de cuentas" |
| MOL-9 | CI/CD: Test autom√°tico de gold set | ‚ö™ Baja | GitHub Action para proteger contra regresiones |

### Milestone: Optimizaci√≥n NLP
**Meta:** Cobertura >75% | **Actual:** 60-70% (regex v4) | **Pipeline:** 3 capas anti-alucinaci√≥n

| ID | T√≠tulo | Prioridad | Descripci√≥n |
|----|--------|-----------|-------------|
| MOL-10 | Regex v4.1: Agregar abreviaciones argentinas | üü° Media | Adm., Gte., Coord., Jfe., Aux. |
| MOL-11 | Mejorar detecci√≥n de niveles jer√°rquicos | üü° Media | Junior/Senior/Lead/Manager |
| MOL-12 | Consolidar pipeline NLP v6 + v7 | ‚ö™ Baja | Unificar en un solo archivo con flags |

---

## üîµ CARRIL A: CONSTRUCCI√ìN (10 Issues)

### Milestone: Infraestructura Base (7 issues)

| ID | T√≠tulo | Prioridad | Estado Actual |
|----|--------|-----------|---------------|
| MOL-18 | Automatizar scrapers faltantes (4 fuentes) | üî¥ Alta | Solo Bumeran automatizado, 4 fuentes manuales |
| MOL-19 | Automatizar pipeline completo post-scraping | üü° Media | NLP y Matching son manuales |
| MOL-14 | Implementar env√≠o de alertas (email/Slack) | üü° Media | alert_manager.py existe pero email_enabled=False |
| MOL-15 | Limpieza de JSONs duplicados | ‚ö™ Baja | 10,800 archivos JSON, muchos duplicados |
| MOL-20 | Centralizar sistema de logs | ‚ö™ Baja | Logs distribuidos en m√∫ltiples carpetas |
| MOL-22 | Documentar APIs internas de scrapers | ‚ö™ Baja | Sin documentaci√≥n formal |
| MOL-13 | Crear panel de administraci√≥n centralizado | ‚ö™ Baja | No existe, todo es CLI |

### Milestone: Dashboard Usuario v3 (2 issues)

| ID | T√≠tulo | Prioridad | Estado Actual |
|----|--------|-----------|---------------|
| MOL-16 | Resolver conflicto shinyTree (√°rbol ESCO) | üü° Media | Deshabilitado por bug input/output |
| MOL-17 | Rehabilitar autenticaci√≥n shinymanager | ‚ö™ Baja | Deshabilitado para debug |

### General (1 issue)

| ID | T√≠tulo | Prioridad | Estado Actual |
|----|--------|-----------|---------------|
| MOL-21 | Deprecar y limpiar dashboards antiguos | ‚ö™ Baja | v2, v3 de Python y R a√∫n existen |

---

## üéØ Prioridades Recomendadas

### Sprint 1 (Pr√≥ximas 2 semanas)
| ID | Issue | Carril | Justificaci√≥n |
|----|-------|--------|---------------|
| MOL-5 | Resolver sector_funcion | B | 50% de errores, alto impacto |
| MOL-6 | Expandir Gold Set | B | Base para medir mejoras |
| MOL-18 | Automatizar 4 scrapers | A | Solo 1/5 fuentes automatizadas |

### Sprint 2
| ID | Issue | Carril | Justificaci√≥n |
|----|-------|--------|---------------|
| MOL-19 | Pipeline post-scraping | A | Automatizar NLP + Matching |
| MOL-7 | M√©tricas Recall | B | Completar benchmark |
| MOL-16 | √Årbol ESCO shinyTree | A | Funcionalidad faltante en dashboard |

### Sprint 3+
| ID | Issue | Carril |
|----|-------|--------|
| MOL-8 | Casos biling√ºes | B |
| MOL-10 | Regex abreviaciones | B |
| MOL-11 | Niveles jer√°rquicos | B |
| MOL-14 | Alertas email/Slack | A |

### Backlog (cuando haya tiempo)
- MOL-9: CI/CD
- MOL-12: Consolidar NLP v6+v7
- MOL-13: Panel admin
- MOL-15: Limpieza JSONs
- MOL-17: Auth shinymanager
- MOL-20: Centralizar logs
- MOL-21: Deprecar dashboards
- MOL-22: Documentar APIs

---

## üìÅ Archivos de Referencia

### Versiones Activas
| Componente | Archivo | Versi√≥n |
|------------|---------|---------|
| Matching Rules | `database/matching_rules_v83.py` | v8.3 |
| Matching Algorithm | `database/match_ofertas_multicriteria.py` | v8.1 |
| NLP Pipeline | `database/process_nlp_from_db_v7.py` | v8.0 |
| NLP Prompt | `02.5_nlp_extraction/prompts/extraction_prompt_v8.py` | v8.0 |
| Regex Patterns | `02.5_nlp_extraction/scripts/patterns/regex_patterns_v4.py` | v4.0 |
| Dashboard Producci√≥n | `Visual--/app.R` | v2.4.0 |
| Dashboard Validaci√≥n | `Visual--/validacion_pipeline_app_v3.R` | v3 |
| Dashboard Scraping | `dashboard_scraping_v4.py` | v4 |
| Scheduler | `run_scheduler.py` | - |

### Gold Set y Validaci√≥n
| Archivo | Prop√≥sito |
|---------|-----------|
| `database/gold_set_manual_v1.json` | 19 casos validados manualmente |
| `database/test_gold_set_manual.py` | Benchmark de precisi√≥n |
| `database/test_esco_matching_regression.py` | Tests de regresi√≥n |

---

## üîó Links R√°pidos

### Linear
- **Proyecto:** https://linear.app/molar/project/mol-monitor-ofertas-laborales-2a9662bfa15f
- **Backlog:** https://linear.app/molar/team/MOL/backlog
- **Issues Alta Prioridad:** MOL-5, MOL-6, MOL-18

### Documentos Relacionados
- `STATUS.md` - Estado del proyecto (en repo)
- `CLAUDE.md` - Gu√≠a para Claude Code (en repo)
- `PROJECT_MAP.md` - Mapa de dependencias

### Dashboard Producci√≥n
- https://dos1tv-gerardo-breard.shinyapps.io/dashboard-esco-argentina

---

## üìù Flujos de Trabajo

### Para trabajar en Carril B (Optimizaci√≥n)

```bash
# 1. Crear nueva versi√≥n de reglas
cp database/matching_rules_v83.py database/matching_rules_v84.py

# 2. Implementar cambios en v84

# 3. Validar con gold set
python database/test_gold_set_manual.py

# 4. Si mejora, ejecutar batch piloto
python database/run_batch_pilot.py --rules v84 --limit 100

# 5. Analizar resultados y decidir deploy
```

### Para trabajar en Carril A (Construcci√≥n)

```bash
# 1. Crear branch
git checkout -b feature/MOL-XX-descripcion

# 2. Implementar

# 3. Testear localmente

# 4. PR + merge

# 5. Deploy si aplica
```

---

## ‚ö†Ô∏è Reglas Cr√≠ticas

1. **Nunca modificar sin backup:**
   - `database/bumeran_scraping.db`
   - `database/gold_set_manual_v1.json`
   - `database/matching_rules_v83.py` (crear v84)

2. **Siempre correr benchmark despu√©s de cambios en matching:**
   ```bash
   python database/test_gold_set_manual.py
   ```

3. **Documentar decisiones en Linear:**
   - Comentar en el issue qu√© se prob√≥
   - Agregar m√©tricas antes/despu√©s

---

**Documento generado:** 2025-12-02
